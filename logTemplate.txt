const { error: insertError } = await supabase
    .from('system_logs')
    .insert({
        source: user_id,
        action: 'opened_weekly_report',
        status: 'success',
        details: `User opened the weekly report for Week #${r.week_number}, ${r.month} ${r.year}`,
    })

if (insertError) throw insertError


const { error: insertErrorBefore } = await supabase
    .from('system_logs')
    .insert({
        source: 'SYSTEM',
        action: 'generate_monthly_report',
        status: 'pending',
        details: `Generating ${barberData.length} monthly reports for ${selectedMonth} ${selectedYear}`,
    })

if (insertErrorBefore) throw insertErrorBefore


const { error: insertErrorAfter } = await supabase
    .from('system_logs')
    .insert({
        source: 'SYSTEM',
        action: 'generate_monthly_report',
        status: 'success',
        details: `Successfully generated ${barberData.length} monthly reports for ${selectedMonth} ${selectedYear}`,
    })

if (insertErrorAfter) throw insertErrorAfter